-- --------------------------------------------------------
-- Host:                         127.0.0.1
-- Server version:               8.0.36 - MySQL Community Server - GPL
-- Server OS:                    Win64
-- HeidiSQL Version:             12.1.0.6537
-- --------------------------------------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;


-- Dumping database structure for attendance_db
DROP DATABASE IF EXISTS `attendance_db`;
CREATE DATABASE IF NOT EXISTS `attendance_db` /*!40100 DEFAULT CHARACTER SET utf8mb3 */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `attendance_db`;

-- Dumping structure for view attendance_db.attendace_view
DROP VIEW IF EXISTS `attendace_view`;
-- Creating temporary table to overcome VIEW dependency errors
CREATE TABLE `attendace_view` (
	`record_id` INT(10) NOT NULL,
	`set_at` DATETIME NULL,
	`name` VARCHAR(50) NOT NULL COLLATE 'utf8mb3_general_ci'
) ENGINE=MyISAM;

-- Dumping structure for table attendance_db.attendance_tbl
DROP TABLE IF EXISTS `attendance_tbl`;
CREATE TABLE IF NOT EXISTS `attendance_tbl` (
  `record_id` int NOT NULL AUTO_INCREMENT,
  `user_id` int DEFAULT '0',
  `set_at` datetime DEFAULT NULL,
  PRIMARY KEY (`record_id`) USING BTREE,
  KEY `user_id` (`user_id`),
  CONSTRAINT `user_id` FOREIGN KEY (`user_id`) REFERENCES `user_tbl` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=35 DEFAULT CHARSET=utf8mb3;

-- Dumping data for table attendance_db.attendance_tbl: ~2 rows (approximately)

-- Dumping structure for table attendance_db.user_tbl
DROP TABLE IF EXISTS `user_tbl`;
CREATE TABLE IF NOT EXISTS `user_tbl` (
  `user_id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `face_features` longtext CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,
  `audio_profile` longblob NOT NULL,
  `isActive` enum('True','False') NOT NULL DEFAULT 'True',
  PRIMARY KEY (`user_id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb3;

-- Dumping data for table attendance_db.user_tbl: ~2 rows (approximately)
INSERT INTO `user_tbl` (`user_id`, `name`, `password`, `face_features`, `audio_profile`, `isActive`) VALUES
	(9, 'ammar', '1234', '-0.07263333350419998, 0.04678994417190552, 0.044986650347709656, 0.010226020589470863, -0.02625550888478756, -0.027612239122390747, -0.02915547415614128, -0.07886700332164764, 0.15598812699317932, -0.12322188168764114, 0.23599210381507874, -0.07285484671592712, -0.18045297265052795, -0.04161995276808739, 0.025272995233535767, 0.1206529438495636, -0.0988674908876419, -0.13270264863967896, -0.09758543968200684, -0.07111482322216034, 0.06597162783145905, 0.002405185718089342, -0.07533004134893417, 0.07216211408376694, -0.18530263006687164, -0.2950650751590729, -0.06193456053733826, -0.12772873044013977, 0.031007977202534676, -0.11058685928583145, -0.0672297328710556, 0.04494290053844452, -0.16081012785434723, -0.0348472073674202, 0.03567330166697502, 0.1303737312555313, 0.0018433461664244533, 0.0026614172384142876, 0.14968939125537872, 0.01523374579846859, -0.16366060078144073, 0.07273248583078384, 0.022563710808753967, 0.2171187698841095, 0.14020521938800812, 0.07833130657672882, 0.0177632924169302, -0.04643384739756584, 0.09238812327384949, -0.21650655567646027, 0.08794844150543213, 0.10952392965555191, 0.1671268343925476, 0.12148666381835938, 0.09957560896873474, -0.23792330920696259, -0.001418127678334713, 0.10090165585279465, -0.1732265055179596, 0.15125954151153564, 0.021633615717291832, -0.05012684315443039, 0.028694327920675278, 0.02027379721403122, 0.19950167834758759, 0.06174744293093681, -0.13657446205615997, -0.0819796770811081, 0.08405321836471558, -0.16701316833496094, -0.019528796896338463, 0.07344179600477219, -0.0862286239862442, -0.22489400207996368, -0.25458958745002747, 0.10407000035047531, 0.37965306639671326, 0.14383850991725922, -0.24290795624256134, 0.02552412450313568, -0.0021405864972621202, -0.06779459863901138, 0.07950296252965927, 0.07079790532588959, -0.04480627179145813, 0.0016970345750451088, -0.0726684033870697, 0.0217234306037426, 0.2079189270734787, 0.03294701129198074, 0.02216043509542942, 0.2618935704231262, -0.07389673590660095, 0.04940297454595566, -0.01885599084198475, 0.02244938723742962, -0.09909935295581818, -0.007085603196173906, -0.013374758884310722, -0.027403559535741806, 0.03419576957821846, -0.09880881011486053, -0.024751445278525352, 0.05215219780802727, -0.21340467035770416, 0.1425224244594574, -0.05689145252108574, 0.01785053312778473, -0.04477277770638466, 0.08696994185447693, -0.12032248079776764, 0.007003477308899164, 0.17319859564304352, -0.2876940369606018, 0.21182246506214142, 0.21403120458126068, 0.04562542214989662, 0.1257392168045044, 0.074002705514431, 0.017127566039562225, 0.07855668663978577, -0.005670670419931412, -0.18045732378959656, -0.05506734922528267, 0.03921118378639221, -0.07795051485300064, 0.02824307605624199, 0.04650679603219032', _binary 0x86d9acbf7f4c02b02df2bc513a8cd6596548ba3406b9b8da33c97bcf568724a0a7e3e7cf4b6be98d7d629262ed93871f0262369893cf0981322f75f0c1b611358c178d739f55d01e4b0a9f28679d79b632083ff7a5f54548d6125ca98bcbe10e4e93f92737dcec25f46c09d76d21d7ac1b91014d6e426b1ff8d29b05546a17d8375c9cacf5215e223a0400c0cbdc87646bebd7a66d2b80e3f21e85ef61a0b4c67ab37b96991f1fc01215060f61b09cea0a91fa911dbc0710e87ee6fa9516060c996e9bb74ec76a2b7572fc1b90c231600440cf5b6f0237dc4c5e918d7a042c8a5f3ae278c10acbd729e54f280187531cb5922c067fa82ef85fdf0fba439bbdb6d72daee7699b228a980c02e55d5744a301ee3fac91c362eb636b85becb211464ef4faf7b7b3f3707cfab47ba32edc19fd796d6e158d74cb1e258c0913f55f64fcb100b7c11017b193a80812a366bbe0551758fd0d1ac7e9f3dc1289a4cac95adc729c0b1b6c14d88b5f14495cf3e353301be55358eb49d519da0023379c30098ec29e23e6f87378c19d572556edaa30ddc47663db3ac873425893a811c408f8b6ccb161cecee663acfd9dd33727c8106901e3c86d7ba701e80aab6ccd5327db779eb12eb34b138f17bf9fb50f1d60c1323f12a96569b68f21de3011c1ea9ce53cdcd57de69a39acc8f69a172aa35b5a1802c54f53da2c5c3baa0b0f6132af468a9600007e2c6cb47d44190cfcadf95b356b713f6a8bba5e9476778a0e3b4ae1d96108b1be7985577ee1f9b8660170a226e67e0f562bbb3da32bfce5aeefd23c489e0ee1ca5caf875a4adce75ca1258cd0087d4adcc69aaccee065d7fc6c2d58ff688567c283f542d570dff128524f0fc8a63909c477e0a4cf80923a40845e4366dfeda98c113a4e3e97de66e4092aefb9a352e613b3a1428794cfc8f6f372b5e33d707b3bf39ff815264cbe4618df469160f18a7729377c15596fc0394c886969487de72e57181cd514e99f2151ab674da7be9153bb921ee693671d6b88eb939287a9848cbaba7261b7e8d5a5a296f31999b2169dcff8ba7fa72f78f54b23f44adc5e79ee086da5cff52e78c4bcd5b3622e82a2c0fe7eacd3d65d20159ae7585c96ef29d3b5811435d51b75beb3e75b5e6e4bcbf06ef4252322c071dcd6c98bb765e0f78775b61f02f962b12cc8c122e7d3189c3f03732a4600d699b66a556e6e4fc57ecfb97630bcdd5d696f23a2555ece03ab141bf455d97a0aed27ecd12bbe4e0b76bde947b3a6283991e60387af69ceef4b008a5b2dddd6df1f243a0bf8023a0564364fa11125c46a61ce326ae9ea141f6472a37b2ecd0bc730c99031c39d4c93b43c4ca8dd46ebe742b7363ed6cb31b95778e66c3dbf63cebb6caddb6ee46ccb09d69e9c9159f9bebea204b0cc572ddda93b5ed393ee52d093576ee2eb2a9d34e52420b8030addff63c535f6d60dc5de686845e9bd5, 'True'),
	(10, 'test', '1235', '-0.07123374938964844, 0.07926750183105469, 0.05222298204898834, -0.008799988776445389, -0.10591814666986465, -0.03721179813146591, -0.003103680908679962, -0.1111506000161171, 0.1931472271680832, -0.16106238961219788, 0.08874133974313736, -0.024306483566761017, -0.2072644829750061, -0.06231319159269333, 0.08602631092071533, 0.1861627995967865, -0.11894088983535767, -0.15155631303787231, -0.13693469762802124, -0.07384205609560013, 0.053842540830373764, 0.022184886038303375, 0.020074227824807167, 0.053030140697956085, -0.13184872269630432, -0.3113618791103363, -0.049079716205596924, -0.05075006186962128, 0.0363839715719223, -0.0639038160443306, -0.06993664056062698, 0.029708512127399445, -0.20855921506881714, -0.08615659177303314, 0.05584311485290527, 0.09930123388767242, -0.04501308873295784, -0.03601501137018204, 0.19647151231765747, -0.013143710792064667, -0.2554342448711395, 0.0026969686150550842, 0.09152112901210785, 0.1767309308052063, 0.23263469338417053, 0.05256814509630203, -0.025067806243896484, -0.08722387254238129, 0.13313938677310944, -0.2796870768070221, 0.03663197532296181, 0.1420593559741974, 0.11670553684234619, 0.05958009138703346, 0.12351944297552109, -0.1619979590177536, 0.0004339553415775299, 0.13328343629837036, -0.19695505499839783, -0.01701512560248375, 0.03445078060030937, -0.07329782843589783, -0.04449106380343437, -0.02920193038880825, 0.18531827628612518, 0.06664321571588516, -0.10033868253231049, -0.06107161194086075, 0.1204705461859703, -0.1574258655309677, -0.0003539957106113434, 0.027987997978925705, -0.09154733270406723, -0.20293571054935455, -0.2821921408176422, 0.001049606129527092, 0.41242408752441406, 0.15371574461460114, -0.18817147612571716, 0.04120703786611557, -0.04542960599064827, -0.022088032215833664, 0.09187363088130951, 0.07949971407651901, -0.023199236020445824, -0.05330999940633774, -0.004474366549402475, 0.07716802507638931, 0.14409734308719635, -0.06678570061922073, 0.059486690908670425, 0.19027002155780792, 0.030287636443972588, 0.010721714235842228, -0.053285032510757446, 0.006053984630852938, -0.10304215550422668, -0.0020518535748124123, -0.14931809902191162, -0.04454956576228142, 0.02119811251759529, -0.004975029267370701, 0.056968800723552704, 0.09882216900587082, -0.24379807710647583, 0.11433486640453339, 0.02948802337050438, -0.0798119455575943, 0.010917719453573227, 0.020934540778398514, -0.09509178251028061, -0.06257831305265427, 0.08257116377353668, -0.24558329582214355, 0.17635288834571838, 0.22669051587581635, -0.12391676008701324, 0.15040147304534912, 0.017120683565735817, 0.08063410967588425, 0.06146564707159996, -0.011804197914898396, -0.1395711749792099, -0.06531565636396408, 0.1124124750494957, -0.017628876492381096, 0.03665139526128769, 0.0007139695808291435', _binary 0xafd47abd8b1c8555812a73681d6fa88cbb71cbfd5d072744092d31be797fe874efac7a409461deb6effb2e2f9f9ee1f0708d2d1a10afa8635dd8ea38ce2236397df5568ae7d37473a22ad27e556299ff6888188742fc0e449ba1294ee039e23eaa273253fdafc9c4c0e755df0849308ebb4fa54b701c4bfdebee75daa73aea3866489056e3fc4a12f971c8ddc951c6da0b1406b035a85a2fb18c9402bb087db3f21e3fd9cfe134865c7a8cb8fe360a3e8c660f07f9f37308e534bd9d421fec13e76d673e4d5fe9df480259267ee60029faf995015f2964f97f20f3b295a9c2cefd41dcf5437f4e0d3d12c1ded62faa09733ce6ca9f1c1dfdffd0e646497c16a60a6ff43a4c1a0c7dd09298f60d1652351bf80ceb2659b1ebba80d71085e106e6b3cf022130b89f7d6f5aba3282e189aa3c2933c40592e7f86837f1b13f0327b6870fdf0f0666294597a447908763ebbca42c5e70089bf2a0c5fc74eb3dfb13f58117f1e9c259088777cef1568d54d3e14f929bc2c8485f334075d67f7745a6803c8d2e0ea711196f84d850fe7eb1a49040cbd2b03e6cc493d5c909cd19c47c277e1dda1d1fc8872112e054bc3b41539fdd7d9b3f0a80877ae5a29aebe2e1722d16c1fce03f96c556d4bc5bbc5638f20d8116909d96dadb847b6d381304ab9c8a7cecbea5595711f1a5dc701cabbaa58e8195ee120be67c9c8da5664fbe8f65a17d1d3c8a2fa0e1fb7f5c06e9e1d39148e5c5c1838204f9c81b271c53237dad14ac08f40df67a4d01b02eceff50ee3058c7668c155109cb17d1ed718455ca43f4789c810970f369b6887bee9395a93021ef2c08c7253e2ae18ab31e2722ddae3bbb798082a59ed364a992bb080462b41c012e998be0937758def1d591d9de7c932a17d7890db2418057fd619987237544b2a3338b03e51e5fce5f429abbaf81cba1bff4b1b792a5bbc83cdbc327c4d4568ddec6525a1383892f00a79cb038fdae6592019a5da778f7675d4bc751bd437f563eb692422ceddd5d3a2625c7254fe9b473afc954821e48d04db258a06088124d16745f91ba71fb404f5164c3fc87621908cfcdf0ccb35e4cf2e0cae9b970c05d30ea07b60b4fac7c9b55e68b075c65ed51a750441ab244f77ed12627fe9b49e722abc9d265a48cb689b68c0718c3950c073c5e70dd5a1bede37227e3e7d27411027d3bb5c7080c6db03771121988195058b56d42bcc9d95c24bbed31dff41ef706429d22a42264509f1cb811ce4c691e86dd1e826799667225317ca30b0c695b01dfea3207ffc297bf27f2f38f6cc2165ab9cc3ccf8d1860fd15eee4897f54579544937882c65eac737df4207b6f362a800e7890fd43383c869f9d6be8da2b0c291866d55b6d1b1c6ca55a7a940f508d93ed04a5692e22ef95d9b9be0195223a413a408e5436fc61d84616d40361805d98c0cb070158e954221d79853ccd0c39e3a7b2d10fc48b, 'True'),
	(11, 'abdulrahman', '12348', '-0.1898442506790161, 0.003226587548851967, 0.042220599949359894, -0.054882023483514786, -0.07293695956468582, -0.022881358861923218, -0.004337640479207039, -0.07196969538927078, 0.15407395362854004, -0.1440591812133789, 0.18016821146011353, -0.017415009438991547, -0.20470179617404938, -0.053611479699611664, 0.014344198629260063, 0.1714521050453186, -0.18310509622097015, -0.11579688638448715, -0.058745384216308594, -0.007544841151684523, 0.020597398281097412, 0.0013138798531144857, 0.023423925042152405, 0.07162042707204819, -0.0835406556725502, -0.40268927812576294, -0.046822406351566315, -0.17844992876052856, 0.06734264642000198, -0.07251808792352676, -0.016952332109212875, 0.06640979647636414, -0.17553642392158508, -0.026066696271300316, -0.010717978700995445, 0.12320634722709656, 0.015421925112605095, 0.008116848766803741, 0.1920415163040161, 0.05177609622478485, -0.2590106129646301, -0.040016788989305496, 0.025969285517930984, 0.2526281774044037, 0.19744649529457092, 0.05173645168542862, 0.03823797404766083, -0.06223805248737335, 0.09639643877744675, -0.2496778964996338, 0.008942635729908943, 0.05746635049581528, 0.09977567195892334, 0.024757789447903633, 0.05765249580144882, -0.1969452202320099, 0.04473239555954933, -0.0065657757222652435, -0.24425610899925232, 0.07877806574106216, 0.06304695457220078, -0.04644012078642845, 0.026123210787773132, 0.018640464171767235, 0.25704458355903625, 0.019113929942250252, -0.14620910584926605, -0.05132083594799042, 0.212730273604393, -0.18425488471984863, 0.01763254404067993, 0.06806987524032593, -0.11498766392469406, -0.19451996684074402, -0.3252352178096771, -0.02319234050810337, 0.4538092017173767, 0.14211538434028625, -0.08781100809574127, 0.0322297140955925, -0.13451601564884186, -0.0931851789355278, 0.048046451061964035, 0.13829167187213898, -0.02635783702135086, 0.005486305803060532, -0.008267497643828392, 0.04305903986096382, 0.17713525891304016, 0.0313454195857048, 0.004571358673274517, 0.2003360241651535, -0.01261431910097599, 0.04723421111702919, -0.03100688010454178, 0.05698472633957863, -0.06523025780916214, -0.026260972023010254, -0.10102513432502747, 0.0016913325525820255, -0.09770998358726501, -0.11343970149755478, 0.051175422966480255, 0.10197719931602478, -0.2561163902282715, 0.13464772701263428, 0.009409400634467602, -0.030037416145205498, -0.015422315336763859, 0.10247228294610977, -0.12405557930469513, -0.02650155872106552, 0.13386695086956024, -0.27455300092697144, 0.1827828735113144, 0.2933717966079712, 0.085534006357193, 0.12739093601703644, 0.05832185596227646, 0.006947215646505356, 0.0167301744222641, -0.027814671397209167, -0.21526619791984558, -0.03831716626882553, 0.010151682421565056, -0.07360678166151047, 0.04055764898657799, 0.07717002183198929', _binary 0x46bf1a618bf831dedf6c9dbbe9288ead5cda560eb922987a0a55d1cc7f3011aba6c16a32f332acb40e6fccca8220e6b6ad609a722e034544843b6e34c8fc8457e3acad2a3fa8d9ca4df7ec45e775c3698ad79e127a8131a69f0ca2d606c7e77d7287ee08ad8b052a27d1c6c6df7069b69813a18f35c3e916028edc2351ab701f34df83ad2e1f965a3c93926095c7502919408a2216775b4d7d0ee5055be2cf90dafc509c6623d424b0546b3beb1aa0ced270c1fe465ec0e644b7067b08cf69fd332e4e91a0ba360bf1ee17be366533a94023e0bad0042f53d85ef39cd96af69bd6848789bcbeedf76a3005f51983a1b27ffd4e7836fe07f727c814354cccd321697713435beae113efbe983636c808ae5b90f04e3ebfb2d2b1d9d5dda04284945853912ecdb44a5e7a0c7871dff615cf086207d4c1ec981204c0811d931ebb4d19ec8d6ac992a0d86814c50ebd91df30f332aabbe951eed222718a46540b6db46865db5f66bfedf5f1e086e1f454d0a52b57ca53d82b12fffea7ba32cf6fe45e4824f83b53d48bdb39ec561964ca0fbf8c243ffbea67c4aead4463a748ec0a247ca1378c8f015f1973ade1d357f8392b29e7f2a467e49c6a108d5cfe7ec13885776752589df9a65ba99a714a0515f0cd8bc7df686bdb17bffc3670f84e945c7e81af6c340352ddd0f1ba49b2d60aca67486bfc0755741b9ce736b28403bc344e3e53e4e32e615254c68856ca3e6ddb5cb712ad176e8065e0f627f7be59efbdc7097d7771c062f27f29ca6d5788686f34d994eb735e7ecf0205ebe5f4a5f90ed8c273edb87181a2899036e32df509e13ef756614915140e6913ca6e5c5f9c217ac3f8fc41e70a65a5f9c75be7c591cbf513069bb956b9503bb4331c2427357cd47dc8b13ff468df474b35a43c01795d517ec5f68b4856448ad55cb1d65ac0d4e39f0e263c6b4139a8a9ad6336aa70721149b025f5cd22f7a56826ed4a62c7549de9dbbfab5a930c2c0774e3fb297e71622cd59e5746730347363f573273e34c5a64412b1944ccb4dd58d8ac89fce9d8b59b09d24300d1a3b17e57b7c1a37413cb49f0a8ca4d8823dedca12850adc22931803e5958fbc82630cb10a9b1f25dfb8b65c605fa3812b9278ca1f095deffec1977c67c9e6e343f2be47c6abd977faa07165045ec81f8aa20139c98edc0ff1f2a2dfa187b474319377a6775cb6a57a9c091855f952c485c756806a6f2b52e24e3b765ba48958e311a9d6a6423229a1fc9bdbe931c563ac089407ebdd89fb29f5aad8eaf5adc30a6af6632e47a31b0626a04561a110c779a9f56b73db1ca78b7cec329db68956ab8da8f54c74a16a4c097777be3c74b9e576d29fa0c88317e9e078278c780e6807798b1910560b0b932e04dbc84bfbaa582ff9df897001c8dac4ff8d6008a3b5b297ce6355e1f3de5dc4c0a1e95a751e2a8db178a903e57a2949cd09508053472a2b6, 'True');

-- Dumping structure for trigger attendance_db.attendance_tbl_before_insert
DROP TRIGGER IF EXISTS `attendance_tbl_before_insert`;
SET @OLDTMP_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';
DELIMITER //
CREATE TRIGGER `attendance_tbl_before_insert` BEFORE INSERT ON `attendance_tbl` FOR EACH ROW BEGIN

    DECLARE last_set DATETIME;

    -- Get the most recent set_at time for this user
    SELECT MAX(set_at) INTO last_set
    FROM attendance_tbl
    WHERE user_id = NEW.user_id;

    -- Check if the last record is within 24 hours
    IF last_set IS NOT NULL AND TIMESTAMPDIFF(HOUR, last_set, NOW()) < 24 THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'Insert denied: this user must wait 24 hours before checking in again.';
    END IF;

    -- Set current timestamp
    SET NEW.set_at = NOW();

END//
DELIMITER ;
SET SQL_MODE=@OLDTMP_SQL_MODE;

-- Dumping structure for view attendance_db.attendace_view
DROP VIEW IF EXISTS `attendace_view`;
-- Removing temporary table and create final VIEW structure
DROP TABLE IF EXISTS `attendace_view`;
CREATE ALGORITHM=UNDEFINED SQL SECURITY DEFINER VIEW `attendace_view` AS select `a`.`record_id` AS `record_id`,`a`.`set_at` AS `set_at`,`b`.`name` AS `name` from (`attendance_tbl` `a` join `user_tbl` `b`) where (`a`.`user_id` = `b`.`user_id`);

/*!40103 SET TIME_ZONE=IFNULL(@OLD_TIME_ZONE, 'system') */;
/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IFNULL(@OLD_FOREIGN_KEY_CHECKS, 1) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40111 SET SQL_NOTES=IFNULL(@OLD_SQL_NOTES, 1) */;
